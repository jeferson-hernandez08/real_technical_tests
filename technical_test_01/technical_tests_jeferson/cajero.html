<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba Cajero</title>
    <link rel="stylesheet" href="styles.css">
    <style ></style>
</head>
<body>
    <header>
        <h1>Hola Bienvenido a AplicaciÃ³n de Cajero</h1>
    </header>
    <section class="principal-section">
        <div>
            <div>
                <h1>Consulta de Saldo</h1>
                <button type="button" onclick="generar()">
                    Ver Saldo
                </button>
                <h2 id="resultado1">ðŸ’µ</h2>
            </div>

            <div>
                <h1>Depositar Saldo</h1>
                <input type="text" name="depositar" id="depositar">
                <button type="button" onclick="depositar()">
                    Depositar saldo
                </button>
            </div>

            <div>
                <h1>Ingrese valor a Retirar</h1>
                <input type="text" name="retirar" id="retirar">
                <button type="button" name="retiro" id="retiro" onclick="retirar()">
                    Retirar Monto
                </button>
            </div>

            <div>
                <h1>Mostrar monedas denominaciones</h1>
                <div id="resultado"></div>
            </div>

            <!-- Historial de transacciones -->
            <section>
    
            </section>
            
        </div>
    </section>
    
</body>
<!-- <script src="cajero.js"></script> --> 
 <script>  // Desarrollamos aquÃ­ por el momento
     class ATM {
        // Atributos
        #saldo;
        
        constructor() {
            this.denominations = [200, 100, 50, 20, 10, 5, 2, 1];
            this.transactionHistory = [];
            this.totalDispensed = 0;
            this.saldo = 1000;
        }
     }

        // Saldo
        let saldo = 1000;
    
        // MÃ©todos
        function generar() {
            document.getElementById('resultado1').innerHTML="Tu saldo actual es " + saldo;
        }

        function depositar() {
            let = cantidad = parseInt(document.getElementById('depositar').value);     //parseInt para convertir a tipo number
            saldo = saldo + cantidad;       // Sumamos la cantidad ingresada
            document.getElementById('resultado1').innerHTML="Tu saldo actual es " + saldo;
        }

        function retirar() {
            let = cantidad = parseInt(document.getElementById('retirar').value);

            if (saldo > 0 && cantidad <= saldo) {    // Validamos si el saldo es mayor y si la cantidad es menor al saldo. 
                saldo = saldo - cantidad;      // Descontamos saldo
                document.getElementById('resultado1').innerHTML="Tu saldo actual es " + saldo;
            } else {
                document.getElementById('resultado1').innerHTML="No tiene saldo suficiente " + saldo;    // Error no me descuenta
            }
        }   

        function calcularDesglose() {
            // Valor del input
            const montoInput = document.getElementById('retirar');
            const monto = parseInt(montoInput.value);   // capturar ingresado
            const resultadoDiv = document.getElementById('resultado');
            resultadoDiv.innerHTML = ''; // Limpiar

            // Validar el monto
            if (isNaN(monto) || monto <= 0) {
                resultadoDiv.innerHTML = 'Por favor, ingrese un monto vÃ¡lido.';
                return;
            }

            // Denominaciones
            const denominaciones = {
                200: 0,
                100: 0,
                20: 0,
                10: 0,
                5: 0,
                2: 0,
                1: 0
            };

            // caculo desglose
            let montoRestante = monto;
            for (const denominacion in denominaciones) {
                const valorDenominacion = parseInt(denominacion);
                if (montoRestante >= valorDenominacion) {
                    denominaciones[denominacion] = Math.floor(montoRestante / valorDenominacion);
                    montoRestante %= valorDenominacion;
                }
            }

            // resultado desgloce
            if (montoRestante === 0) {
                let desgloseHTML = '';
                for (const denominacion in denominaciones) {
                    if (denominaciones[denominacion] > 0) {
                        desgloseHTML += `<p>$${denominacion}: ${denominaciones[denominacion]}</p>`;
                    }
                }
                resultadoDiv.innerHTML = desgloseHTML;
            } else {
                resultadoDiv.innerHTML = 'No se puede dispensar el monto exacto con las denominaciones disponibles.';
            }
        }



//     class ATM {
//     constructor() {
//         this.denominations = [200, 100, 50, 20, 10, 5, 2, 1];
//         this.transactionHistory = [];
//         this.totalDispensed = 0;

//         function retirar () {
//             let = cantidad = parseInt(document.getElementById('retirar'))
            
//             if  
    
//         }
//     }

// }
 </script>
</html>